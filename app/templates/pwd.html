{% extends "base.html" %}

{% block title %}登录 - tgState{% endblock %}

{% block content %}
<div style="display: flex; align-items: center; justify-content: center; min-height: 60vh;">
    <div class="card" style="width: 100%; max-width: 400px; padding: 32px;">
        <div style="text-align: center; margin-bottom: 24px;">
            <div style="width: 48px; height: 48px; background: var(--bg-surface-hover); border-radius: 12px; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 16px; color: var(--primary-color);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
            </div>
            <h1 style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">需要验证</h1>
            <p style="color: var(--text-secondary); font-size: 14px;">请输入管理员密码以继续。</p>
        </div>

        <form action="/pwd" method="post">
            <div class="input-group">
                <label class="input-label">密码</label>
                <input type="password" class="input-field" name="password" placeholder="请输入密码" required autofocus>
                {% if request.query_params.get('error') %}
                <div style="color: var(--danger-color); font-size: 13px; margin-top: 8px; display: flex; align-items: center; gap: 4px;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                    密码错误
                </div>
                {% endif %}
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%;">登录</button>
            
            <div style="text-align: center; margin-top: 24px;">
                <a href="/settings" class="text-sm" style="color: var(--text-tertiary); text-decoration: underline;">忘记密码或需要设置？</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
